{"version":3,"sources":["webpack:///./src/pages/deployment/secrets.mdx"],"names":["name","_frontmatter","InlineNotification","props","console","warn","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","isMDXComponent"],"mappings":"8LAQsBA,E,4DAFTC,G,UAAe,IAOtBC,GALgBF,EAKmB,qBALX,SAA6BG,GAEzD,OADAC,QAAQC,KAAK,aAAeL,EAAO,2EAC5B,kBAASG,KAIZG,EAAc,CAClBL,gBAEIM,EAAYC,IACH,SAASC,EAAT,GAGZ,IAFDC,EAEC,EAFDA,WACGP,EACF,8BACD,OAAO,YAACI,EAAD,eAAeD,EAAiBH,EAAhC,CAAuCO,WAAYA,EAAYC,QAAQ,cAG5E,0JACA,mTAEA,YAACT,EAAD,CAAoBS,QAAQ,sBAC1B,8IACA,sBACE,kBAAIC,WAAW,MAAK,6BAAGA,WAAW,MAAS,CACvC,KAAQ,8DADQ,uBAGpB,kBAAIA,WAAW,MAAK,6BAAGA,WAAW,MAAS,CACvC,KAAQ,sEADQ,qCAKxB,wCAAuB,0BAAYA,WAAW,KAAvB,OAAvB,sPAEA,+FACA,sBACE,kBAAIA,WAAW,MAAK,6BAAGA,WAAW,MAAS,CACvC,KAAQ,2CADQ,kBAApB,2CAEuE,0BAAYA,WAAW,MAAvB,0CAFvE,aAGA,kBAAIA,WAAW,MAAK,6BAAGA,WAAW,MAAS,CACvC,KAAQ,2HADQ,gBAApB,2CAEqE,0BAAYA,WAAW,MAAvB,mDAFrE,cAIF,qCACA,uYAEA,sBACE,kBAAIA,WAAW,MAAK,0BAAYA,WAAW,MAAvB,qCAApB,2CACA,kBAAIA,WAAW,MAAK,0BAAYA,WAAW,MAAvB,mCAApB,kBAAmH,kBAAIA,WAAW,MAC9H,kBAAIA,WAAW,MAAK,0BAAYA,WAAW,MAAvB,cAApB,iDACA,kBAAIA,WAAW,MAAK,0BAAYA,WAAW,MAAvB,cAApB,oFACA,kBAAIA,WAAW,MAAK,0BAAYA,WAAW,MAAvB,cAApB,sFAEJ,kBAAIA,WAAW,MAAK,0BAAYA,WAAW,MAAvB,sCAApB,kBAAsH,kBAAIA,WAAW,MACjI,kBAAIA,WAAW,MAAK,0BAAYA,WAAW,MAAvB,oBAApB,sBAAwG,0BAAYA,WAAW,MAAvB,SAAxG,gBAA2K,6BAAGA,WAAW,MAAS,CAC9L,KAAQ,uCAD+J,wBAG3K,kBAAIA,WAAW,MAAK,0BAAYA,WAAW,MAAvB,kBAApB,sBAAsG,0BAAYA,WAAW,MAAvB,OAAtG,gBAAuK,6BAAGA,WAAW,MAAS,CAC1L,KAAQ,uCAD2J,wBAGvK,kBAAIA,WAAW,MAAK,0BAAYA,WAAW,MAAvB,eAApB,mCAEJ,kBAAIA,WAAW,MAAK,0BAAYA,WAAW,MAAvB,4BAApB,kBAA4G,kBAAIA,WAAW,MACvH,kBAAIA,WAAW,MAAK,0BAAYA,WAAW,MAAvB,aAApB,oDAA+H,0BAAYA,WAAW,MAAvB,0EAC/H,kBAAIA,WAAW,MAAK,0BAAYA,WAAW,MAAvB,eAApB,mDAEJ,kBAAIA,WAAW,MAAK,0BAAYA,WAAW,MAAvB,mCAApB,kBAAmH,kBAAIA,WAAW,MAC9H,kBAAIA,WAAW,MAAK,0BAAYA,WAAW,MAAvB,eAApB,8DAA2I,6BAAGA,WAAW,MAAS,CAC9J,KAAQ,sJAD+H,UAA3I,KAGA,kBAAIA,WAAW,MAAK,0BAAYA,WAAW,MAAvB,mBAApB,+CAEJ,kBAAIA,WAAW,MAAK,0BAAYA,WAAW,MAAvB,4BAApB,kBAA4G,kBAAIA,WAAW,MACvH,kBAAIA,WAAW,MAAK,0BAAYA,WAAW,MAAvB,oBAApB,yDACA,kBAAIA,WAAW,MAAK,0BAAYA,WAAW,MAAvB,uBAApB,qEACA,kBAAIA,WAAW,MAAK,0BAAYA,WAAW,MAAvB,qBAApB,2DAA8I,6BAAGA,WAAW,MAAS,CACjK,KAAQ,yGADkI,wBAA9I,kBAGA,kBAAIA,WAAW,MAAK,0BAAYA,WAAW,MAAvB,qBAApB,iDACA,kBAAIA,WAAW,MAAK,0BAAYA,WAAW,MAAvB,wBAApB,iEAOVH,EAAWI,gBAAiB","file":"component---src-pages-deployment-secrets-mdx-371eb64c46f9618fa8be.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/travis/build/IBM/spm-kubernetes/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst InlineNotification = makeShortcode(\"InlineNotification\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <p>{`All values defined in the Helm chart values.yaml file or in your custom override file become part of the Helm release definition.`}</p>\n    <p>{`As of Helm v3, the release definition is stored as a Kubernetes Secret resource by default, as opposed to a ConfigMap.\nThis provides additional security to any credentials defined as values in the release, in comparison to release definitions being stored as ConfigMaps in Helm v2.`}</p>\n    <InlineNotification mdxType=\"InlineNotification\">\n      <p>{`You may find additional information about Secrets and how to define them in Kubernetes in the official documentation:`}</p>\n      <ul>\n        <li parentName=\"ul\"><a parentName=\"li\" {...{\n            \"href\": \"https://kubernetes.io/docs/concepts/configuration/secret/\"\n          }}>{`Kubernetes Secrets`}</a></li>\n        <li parentName=\"ul\"><a parentName=\"li\" {...{\n            \"href\": \"https://kubernetes.io/docs/tasks/administer-cluster/encrypt-data/\"\n          }}>{`Encrypting Secret Data at Rest`}</a></li>\n      </ul>\n    </InlineNotification>\n    <p>{`By default, the `}<inlineCode parentName=\"p\">{`spm`}</inlineCode>{` chart will generate all of the secrets it needs. However, you may want to manage them outside of a Helm release, and point to existing secrets.\nBelow is a list of the Secrets which may be provided externally, and the data they must provide.`}</p>\n    <p>{`The descriptions refer 2 variants of encryption/encoding: SPM and XOR.`}</p>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://ibm.biz/EncryptingSPMPasswords\"\n        }}>{`SPM encryption`}</a>{` refers to the values obtained from the `}<inlineCode parentName=\"li\">{`build.sh encrypt -Dpassword=<password>`}</inlineCode>{` command.`}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://www.ibm.com/support/knowledgecenter/SSEQTP_liberty/com.ibm.websphere.wlp.doc/ae/rwlp_command_securityutil.html\"\n        }}>{`XOR encoding`}</a>{` refers to the values obtained from the `}<inlineCode parentName=\"li\">{`$WLP_HOME/bin/securityUtility encode <password>`}</inlineCode>{` command.`}</li>\n    </ul>\n    <h2>{`SPM Secrets`}</h2>\n    <p>{`The secrets below are structured the following way - the top-level key is the property, which must be set in the override values file, and nested below it are the keys that must be defined for the secret along with their description.\nIf the below top-level keys are not provided, the secrets will be generated by the Helm chart, prefixed with the Helm release name.`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`global.imagePullSecret.secretName`}</inlineCode>{` (type: kubernetes.io/dockerconfigjson)`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`global.database.credsSecretName`}</inlineCode>{` (type: Opaque)`}<ul parentName=\"li\">\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`SPM_DB_USR`}</inlineCode>{`: Database username for datastore connections`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`SPM_DB_PSW`}</inlineCode>{`: SPM encrypted password for the datastore connections (used by Batch processes)`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`XOR_DB_PSW`}</inlineCode>{`: XOR encoded password for the datastore connections (used by WebSphere Liberty)`}</li>\n        </ul></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`global.mq.queueManager.secret.name`}</inlineCode>{` (type: Opaque)`}<ul parentName=\"li\">\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`adminPasswordKey`}</inlineCode>{`: Password for the `}<inlineCode parentName=\"li\">{`admin`}</inlineCode>{` user in the `}<a parentName=\"li\" {...{\n              \"href\": \"https://hub.docker.com/r/ibmcom/mq\"\n            }}>{`IBM MQ Docker image`}</a></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`appPasswordKey`}</inlineCode>{`: Password for the `}<inlineCode parentName=\"li\">{`app`}</inlineCode>{` user in the `}<a parentName=\"li\" {...{\n              \"href\": \"https://hub.docker.com/r/ibmcom/mq\"\n            }}>{`IBM MQ Docker image`}</a></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`appUsername`}</inlineCode>{`: Username for MQ connections`}</li>\n        </ul></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`apps.ltpaKeys.secretName`}</inlineCode>{` (type: Opaque)`}<ul parentName=\"li\">\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`ltpa.keys`}</inlineCode>{`: Contents of the ltpa.keys file generated using `}<inlineCode parentName=\"li\">{`securityUtility createLTPAKeys --password=<password> --file=ltpa.keys`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`passwordKey`}</inlineCode>{`: XOR encoded password for the LTPA keys file`}</li>\n        </ul></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`apps.systemUser.credsSecretName`}</inlineCode>{` (type: Opaque)`}<ul parentName=\"li\">\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`SYSTEM_USER`}</inlineCode>{`: The user under which JMS messages are executed (default: `}<a parentName=\"li\" {...{\n              \"href\": \"https://www.ibm.com/support/knowledgecenter/SS8S5A_7.0.4/com.ibm.curam.content.doc/Security/c_SECHAND_Securitynonuserprocesses1JmsMessaging1.html\"\n            }}>{`SYSTEM`}</a>{`)`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`SYSTEM_PASSWORD`}</inlineCode>{`: XOR encoded password for the above user`}</li>\n        </ul></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`apps.wlpAdmin.secretName`}</inlineCode>{` (type: Opaque)`}<ul parentName=\"li\">\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`KeystorePassword`}</inlineCode>{`: Password for the default WebSphere Liberty keystore`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`XORKeystorePassword`}</inlineCode>{`: XOR encoded password for the default WebSphere Liberty keystore`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`WebSphereUsername`}</inlineCode>{`: Username of the administrative user for accessing the `}<a parentName=\"li\" {...{\n              \"href\": \"https://www.ibm.com/support/knowledgecenter/SSEQTP_liberty/com.ibm.websphere.wlp.doc/ae/twlp_ui.html\"\n            }}>{`Liberty Admin Center`}</a>{`, when enabled`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`WebSpherePassword`}</inlineCode>{`: Password of the Liberty administrative user`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`XORWebSpherePassword`}</inlineCode>{`: XOR encoded password of the Liberty administrative user`}</li>\n        </ul></li>\n    </ul>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}